version: 0.1.0.{build}
image: Visual Studio 2022

platform:
  - Win32
  - x64

build_script:
  - cmd: cmake -Bbuild -DENABLE_TESTS=true -DCMAKE_COMPILE_WARNING_AS_ERROR=true -A %PLATFORM%
  - cmd: cmake --build build --parallel

test_script:
  - cmd: ctest --test-dir build -C Debug --parallel 4
